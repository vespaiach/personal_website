<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Turn off browser&#39;s auto-scrolling behavior | vespaiach.com</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet" />
    <link
      href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,400;0,700;0,900;1,300;1,400;1,700;1,900&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet" />
    <link rel="stylesheet" href="main.css" />
    <script src="microlight.js" defer></script>
    <script defer>
      document.addEventListener('DOMContentLoaded', (event) => {
      debugger
        microlight.reset('language-js');
      });
    </script>
  </head>

  <body>
    <div class="w-full max-w-2xl p-5 mx-auto pt-4">
      <div>
        <a href="/" class="text-blue-500">← HOME</a>
      </div>

      <article class="prose prose-neutral prose-lg prose-headings:font-serif mb-12">
        <h2 class="font-bold mb-1 mt-12">Turn off browser&#39;s auto-scrolling behavior</h2>
        <p class="mb-12">February 08, 2022</p>
        <p>Sometimes that behavior of browsers doesn’t provide the great experiences as it is supposed to be. In my case, when I made a landing page for a client&#39;s website. There is a marketing video at the top of the page, and clients wanted it to always play and show at the first look every time users visit or just refresh the landing page. However, the default browser’s behavior just kept restoring the last position of the page and it gave clients the feeling of browser’s jumping.</p>
<p>Luckily, most modern browsers give developers a way to turn off that behavior and let them control it manually by simply setting <code>history.scrollRestoration = &#39;manual&#39;</code>. For browsers don&#39;t support scroll behavior, developers can use below code to fallback to <code>window.scrollTo</code> function</p>
<pre><code class="language-javascript">if (history.scrollRestoration) {
  history.scrollRestoration = &#39;manual&#39;;
} else {
  /**
   * Use onbeforeunload event to prevent page jumping when refreshing
   */
  window.onbeforeunload = () =&gt; {
    window.scrollTo(0, 0);
  };
}
</code></pre>

      </article>

      <div class="flex justify-end my-11">
        <a href="https://github.com/vespaiach/personal_website/blob/main/docs/turn-off-browser-auto-scrolling-behaviour.md" class="text-xs font-semibold text-secondary no-underline">GITHUB →</a>
      </div>
    </div>
  </body>
</html>
